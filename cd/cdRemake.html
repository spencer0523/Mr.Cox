<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>cdRemake</title>
	<script src="asciiLetters.js"></script>
	<script src="../extras/jquery.min.js"></script>
</head>
<body>
	<h1 style="text-align:center">Laser Version 2.0.1</h1>
<canvas id="myCanvas" width="300" height="150" style="border:1px solid #d3d3d3;"> Your browser does not support the HTML5 canvas tag.</canvas>
	<button id="pauseButton">pause</button>
	<br>
	1st <input type="text" name="first" id="first" maxlength="1" onKeyDown="return lettersOnly(event)">
	<br>
	2nd
	<input type="text" name="second" id="second" maxlength="1" onKeyDown="return lettersOnly(event)">
	<br>
	3rd
	<input type="text" name="third" id="third" maxlength="1" onKeyDown="return lettersOnly(event)">
	<br>
	<button id="getLetters">letters</button>
	<script>
		function lettersOnly(event) {
		    var key = event.keyCode;
		    return ((key >= 65 && key <= 90) || key == 8 || key == 9);
		};
		var lettersClickedButton = $("#getLetters");
		var pauseButton = $("#pauseButton");
		pauseButton.hide()
		lettersClickedButton.click(function() {
			console.log("clicked")
			first = $("#first").val();
			firstAscii = getAsciiLetters(first);
			console.log(firstAscii);
			second = $("#second").val();
			secondAscii = getAsciiLetters(second);
			third = $("#third").val();
			thirdAscii = getAsciiLetters(third);
			console.log(secondAscii);
			console.log(thirdAscii);
			wholeArray = firstAscii.concat(secondAscii, thirdAscii)
			console.log(wholeArray)
			run();
			runTwo();
			pauseButton.show()
		});
										  
		var pauseButtonClicked = 0;
		var pauseButtonClickedOnce = 0;
		$('#pauseButton').click(function() {
			if (pauseButtonClickedOnce == 0){
				pauseButtonClicked = 1; 
				pauseButtonClickedOnce = 1;
				console.log(pauseButtonClicked)
				pauseButton.html('resume');
			}
			else{
				pauseButton.html('pause');
				pauseButtonClicked = 0;
				pauseButtonClickedOnce = 0
				console.log(pauseButtonClicked)
				run()
			}
		});
		//sets up the canvas
		var c = document.getElementById("myCanvas");
		var ctx = c.getContext("2d");
		var rect = c.getContext("2d");
		//sets up the for loop
		
		
		function laserOut(color) {
				ctx.beginPath();
				ctx.moveTo(laserX,laserY);
				ctx.lineTo(laserX-laserWidth,laserY);
				ctx.lineTo(laserX-laserWidth-angler,laserY+laserLength);
				ctx.lineTo(laserX-angler,laserY+laserLength);
				ctx.lineTo(laserX,laserY);
				ctx.strokeStyle=color;
				ctx.fillStyle=color;
				ctx.stroke();
				ctx.fill();
			}
		//clears the rectangle so it moves forward
		function clearRectagle(){
			rect.clearRect(0,0,i+40,150);
		}

		//the grey area at the top of the screen
		function topPart(){
			ctx.fillStyle="#a9a9a9";
			ctx.fillRect(0,0,500,20);
		}
		var laserX=150;
		var laserY=50;
		var laserWidth = 4;		
		var laserLength=160;		
		var angler=40;
		function laser() {
			rect.fillStyle="#ff0000";
			rect.fillRect(150,0,-5,150);
			rect.stroke();
			rect.closePath;
		}
		function zeroAndOneIfStatement(array, number, where){
					//console.log(array, number, where);
					if(array[number] == 1){
						ctx.fillStyle="#210123";
						ctx.fillRect(i + where,0,25,50);
						ctx.clearRect(i + (where-1),0,0.5,50);
						topPart()
					} else if(array[number] != 1){
						ctx.strokeStyle="#cfcfd1";
						ctx.strokeRect(i + where,0,25,50);
						ctx.stroke();
						ctx.clearRect(i + (where-1),0,0.5,50);
						topPart()
						//laser()
					}
			/*		if(array == secondAscii){
						number 
					}*/
					
				}
		
		var i = 0
		var howManyTimes = 840;
		function run(){
			setTimeout(function(){
				for (var i=0;i<wholeArray.length; i++) {
					(function(i) {
						setTimeout(function() { 
							if(wholeArray[i]==1){
								laserOut('#FF0000')
								laser();
								topPart()
							}
							else {
								laser();
								laserOut('#FFFFFF')
								laser()
								topPart();
							}
							console.log(i); 
					  }, 865 * i);
					})(i);
				}
			}, 3500);
		}
		
		
		
		function runTwo(){
			function forLoop(){
				topPart()
				
				//used to shorten the code by alot
				//so you don't have to repeatly type draw rectangles and where and check if 1 or 0
				var width = -30
				laser()
				zeroAndOneIfStatement(firstAscii, 0, width*0);
				zeroAndOneIfStatement(firstAscii, 1, width*1);
				zeroAndOneIfStatement(firstAscii, 2, width*2);
				zeroAndOneIfStatement(firstAscii, 3, width*3);
				zeroAndOneIfStatement(firstAscii, 4, width*4);
				zeroAndOneIfStatement(firstAscii, 5, width*5);
				zeroAndOneIfStatement(firstAscii, 6, width*6);
				zeroAndOneIfStatement(firstAscii, 7, width*7);
				zeroAndOneIfStatement(secondAscii, 0, width*8);
				zeroAndOneIfStatement(secondAscii, 1, width*9);
				zeroAndOneIfStatement(secondAscii, 2, width*10);
				zeroAndOneIfStatement(secondAscii, 3, width*11);
				zeroAndOneIfStatement(secondAscii, 4, width*12);
				zeroAndOneIfStatement(secondAscii, 5, width*13);
				zeroAndOneIfStatement(secondAscii, 6, width*14);
				zeroAndOneIfStatement(secondAscii, 7, width*15);
				zeroAndOneIfStatement(thirdAscii, 0, width*16);
				zeroAndOneIfStatement(thirdAscii, 1, width*17);
				zeroAndOneIfStatement(thirdAscii, 2, width*18);
				zeroAndOneIfStatement(thirdAscii, 3, width*19);		zeroAndOneIfStatement(thirdAscii, 4, width*20);
				zeroAndOneIfStatement(thirdAscii, 5, width*21);
				zeroAndOneIfStatement(thirdAscii, 6, width*22);
				zeroAndOneIfStatement(thirdAscii, 7, width*23);
				i++
				
				if(pauseButtonClickedOnce != 1){
					if(i < howManyTimes){
						//uses a timeout function that way you can see everything moving 
						setTimeout(forLoop, 25);
					}
				}
				
			}
			forLoop()
		}
	</script>
</body>
</html>
